<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Consulta tu Caso | Soluciones Migratorias</title>
  <link rel="stylesheet" href="style.css?v=3" />
</head>
<body style="display: flex; flex-direction: column; min-height: 100vh;">

  <!-- Barra superior -->
  <div class="topbar">
    <div style="display:flex; align-items:center; gap:12px;">
      <span>Plataforma exclusiva para clientes de Soluciones Migratorias</span>
      <div style="position:relative;">
        <button id="ddBtn" aria-expanded="false" aria-controls="dropdown">Más información ▼</button>
        <div id="dropdown" class="dropdown">
          Aquí podrá conocer cómo usar esta plataforma para revisar hitos del proceso, próximas fechas y notas relevantes del equipo legal.
        </div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header>
    <img src="logo.png" alt="Soluciones Migratorias - Logo">
  </header>

  <!-- Barra informativa -->
  <section class="promo">
    Nuestra página principal |
    <a href="https://solucionesmigratorias.us" target="_blank" rel="noopener">solucionesmigratorias.us</a>
  </section>

  <!-- Sección dividida -->
  <section class="main-section">
    <!-- Lado izquierdo -->
    <div class="left">
      <div>
        <h1>Consulta el estado de tu caso</h1>
        <p>
          Bienvenido a la plataforma oficial de Soluciones Migratorias. Aquí podrás revisar de manera segura el avance de tu proceso, próximas audiencias, documentos clave y notas del equipo legal. Nuestro objetivo es mantenerte informado con claridad y oportunidad.
        </p>
      </div>
    </div>

    <!-- Lado derecho -->
    <div class="right-side">
      <div class="white-box">
        <h2>Ingrese su número de registro de Extranjero</h2>
        <p>
          <strong>Número de registro de extranjero</strong>
          <span class="required">*Obligatorio</span>
          <a href="#" class="help">¿Qué es un número de inmigrante extranjero?</a>
        </p>
        <div class="code-inputs">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
          <input type="text" maxlength="1" inputmode="numeric">
        </div>
        <button id="btnEnviar" disabled>ENVIAR</button>
        <p class="info">
          <span class="icon">ℹ️</span>
          La información sobre el caso que aparece en este sistema automatizado, se provee apenas para su conveniencia. Los documentos que se le emitan a usted o a su representante por el tribunal de inmigración o el tribunal de apelaciones, son los únicos de carácter oficial relacionado a su caso.
        </p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 | Soluciones Migratorias</p>
  </footer>

  <!-- Scripts -->
  <script>
    // Dropdown
    const btn = document.getElementById('ddBtn');
    const dd  = document.getElementById('dropdown');
    btn.addEventListener('click', ()=>{
      const open = dd.style.display === 'block';
      dd.style.display = open ? 'none' : 'block';
      btn.setAttribute('aria-expanded', String(!open));
    });

    // Inputs código
    const inputs = document.querySelectorAll('.code-inputs input');
    const button = document.querySelector('#btnEnviar');
    function checkInputs() {
      const allFilled = Array.from(inputs).every(input => input.value.trim().length === 1);
      button.disabled = !allFilled;
      button.style.backgroundColor = allFilled ? '#007bff' : '#ccc';
      button.style.cursor = allFilled ? 'pointer' : 'not-allowed';
    }
    inputs.forEach((input, index) => {
      input.addEventListener('input', () => {
        if (input.value.length === 1) {
          let nextInput = inputs[index + 1];
          if (nextInput) nextInput.focus();
        }
        checkInputs();
      });
    });
    button.addEventListener('click', () => {
      const codigo = Array.from(inputs).map(input => input.value).join('');
      if (codigo.length < 3) {
        alert("Código inválido");
        return;
      }
      window.location.href = `caso.html?codigo=${codigo}`;
    });
    checkInputs();
  </script>
</body>
</html>
