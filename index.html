<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Soluciones Migratorias | Consulta de Estado de Caso</title>
  <meta name="description" content="Plataforma de Soluciones Migratorias para que nuestros clientes consulten el estado de su caso de forma segura y clara." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body style="display:flex; flex-direction:column; min-height:100vh; font-family:'Inter', system-ui, -apple-system, Arial, sans-serif; background:#fff; color:#111;">

  <!-- Barra superior (informativa, sin bandera/emoji) -->
  <div style="background:#000; color:#fff; padding:6px 16px; display:flex; align-items:center; justify-content:space-between; font-size:14px;">
    <span style="margin-right:10px;">Plataforma exclusiva para clientes de Soluciones Migratorias</span>
    <div style="position: relative;">
      <button onclick="toggleDropdown()" style="background:none; border:none; color:#ffd700; cursor:pointer; font-weight:700;">
        Más información ▼
      </button>
      <div id="dropdownContent" style="display:none; position:absolute; top:100%; right:0; background:#222; color:#fff; padding:10px; width:280px; box-shadow:0 4px 8px rgba(0,0,0,0.3); z-index:10; border-radius:6px; font-size:13px; line-height:1.4;">
        Aquí podrá conocer cómo usar esta plataforma para revisar hitos del proceso, próximas fechas y notas relevantes del equipo legal.
      </div>
    </div>
  </div>

  <script>
    function toggleDropdown() {
      const dd = document.getElementById("dropdownContent");
      dd.style.display = (dd.style.display === "none" || dd.style.display === "") ? "block" : "none";
    }
    document.addEventListener('click', (e)=>{
      const dd = document.getElementById("dropdownContent");
      const btn = e.target.closest('button[onclick="toggleDropdown()"]');
      if (!btn && dd && dd.style.display === 'block' && !dd.contains(e.target)) dd.style.display = 'none';
    });
    document.addEventListener('keydown', (e)=>{
      if (e.key === 'Escape') {
        const dd = document.getElementById("dropdownContent");
        if (dd) dd.style.display = 'none';
      }
    });
  </script>

  <!-- Header -->
  <header style="background:#0b2a4a; height:80px; display:flex; align-items:center; padding:0 30px;">
    <img src="logo.png" alt="Soluciones Migratorias - Logo" style="height:50px;">
  </header>

  <!-- Barra amarilla (acceso sitio principal) -->
  <section style="background:#fcd100; padding:18px 20px;">
    <div style="color:#111; font-size:16px; font-weight:700;">
      Nuestra página principal |
      <a href="https://solucionesmigratorias.us" target="_blank" rel="noopener" style="text-decoration:underline; color:#000;">
        [Visitar sitio web]
      </a>
    </div>
  </section>

  <!-- Sección central unificada: texto arriba + tarjeta de consulta -->
  <section class="main-section" style="flex:1 0 auto;">
    <!-- Intro -->
    <div style="background:#f6f8fb; text-align:center; padding:2.4rem 1rem;">
      <img src="https://img.icons8.com/ios-filled/100/000000/courthouse.png" alt="Icono de justicia" style="width:72px; margin-bottom:1rem;" />
      <h1 style="font-size:2rem; font-weight:800; margin-bottom:.6rem; color:#0b2a4a;">
        Consulta el estado de tu caso
      </h1>
      <p style="font-size:1.05rem; line-height:1.65; color:#333; max-width:900px; margin:0 auto;">
        Bienvenido a la plataforma oficial de <strong>Soluciones Migratorias</strong>. Aquí podrás revisar de manera segura
        el avance de tu proceso, próximas audiencias, documentos clave y notas del equipo legal. Nuestro objetivo es
        mantenerte informado con claridad y oportunidad.
      </p>
    </div>

    <!-- Tarjeta de código -->
    <div class="white-box" style="background:#fff; padding:2rem; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.12); max-width:720px; margin:1.25rem auto 2.5rem; color:#111;">
      <h2 style="font-size:1.6rem; margin-bottom:1rem; text-align:center; color:#0b2a4a;">Ingresa tu número de caso</h2>

      <p style="margin-bottom:.75rem; text-align:center;">
        <strong>Número de referencia</strong>
        <span class="required" style="color:#c40000; font-size:0.9rem; margin-left:.25rem;">*Obligatorio</span>
        <a href="#" class="help" style="color:#0b5acc; text-decoration:none; font-size:0.9rem; margin-left:0.5rem;">
          ¿Dónde lo encuentro?
        </a>
      </p>

      <div class="code-inputs" style="display:flex; gap:12px; justify-content:center; margin:1.25rem 0 1.5rem;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 1" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 2" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 3" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 4" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 5" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 6" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 7" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 8" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
        <input type="text" maxlength="1" inputmode="numeric" aria-label="Dígito 9" style="width:50px; height:60px; font-size:1.6rem; text-align:center; border:2px solid #d9d9d9; border-radius:6px;">
      </div>

      <button id="btnEnviar" disabled
        style="width:100%; max-width:520px; display:block; margin:0 auto; padding:1rem; font-size:1.05rem; border-radius:8px; background:#ccc; color:#fff; border:none; cursor:not-allowed; font-weight:700;">
        CONSULTAR
      </button>

      <p class="info" style="margin-top:1rem; font-size:0.95rem; color:#444; display:flex; align-items:flex-start; gap:8px;">
        <span aria-hidden="true">ℹ️</span>
        La información mostrada en esta plataforma es referencial. Los documentos y notificaciones
        oficiales seguirán siendo los emitidos por las autoridades competentes o enviados por nuestro equipo legal.
      </p>
    </div>
  </section>

  <!-- Footer simplificado -->
  <footer style="background:#111; color:#fff; text-align:center; padding:20px; font-size:14px;">
    <p>&copy; 2025 | Soluciones Migratorias</p>
  </footer>

  <!-- Funcionalidad de inputs y consulta -->
  <script>
    // Inputs y botón
    const inputs = document.querySelectorAll('.code-inputs input');
    const button = document.querySelector('#btnEnviar');

    function sanitizeToDigit(el) {
      el.value = el.value.replace(/\D/g, '').slice(0, 1);
    }
    function getCode() {
      return Array.from(inputs).map(i => i.value).join('');
    }
    function checkInputs() {
      const code = getCode();
      const ok = code.length === inputs.length && /^[0-9]{9}$/.test(code);
      button.disabled = !ok;
      button.style.backgroundColor = ok ? '#0b2a4a' : '#ccc';
      button.style.cursor = ok ? 'pointer' : 'not-allowed';
    }

    inputs.forEach((input, i) => {
      input.addEventListener('input', () => {
        sanitizeToDigit(input);
        if (input.value && inputs[i + 1]) inputs[i + 1].focus();
        checkInputs();
      });
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && !input.value && inputs[i - 1]) inputs[i - 1].focus();
      });
      input.addEventListener('paste', (e) => {
        e.preventDefault();
        const data = (e.clipboardData.getData('text') || '').replace(/\D/g, '').slice(0, inputs.length);
        data.split('').forEach((ch, idx) => { if (inputs[idx]) inputs[idx].value = ch; });
        if (inputs[data.length - 1]) inputs[data.length - 1].focus();
        checkInputs();
      });
    });

    button.addEventListener('click', () => {
      const codigo = getCode();
      if (!/^[0-9]{9}$/.test(codigo)) {
        alert("Número inválido. Deben ser 9 dígitos.");
        return;
      }
      // Redirección a la página del caso
      window.location.href = `caso.html?codigo=${codigo}`;
    });

    checkInputs();
  </script>

  <!-- Modal de aviso (enfoque Soluciones Migratorias) -->
  <div id="welcomeModal" style="
    position:fixed; inset:0; background:rgba(0,0,0,0.85); display:flex; justify-content:center; align-items:center; z-index:9999;">
    <div style="background:#fff; padding:32px; border-radius:12px; width: min(900px, 92%); display:flex; gap:20px;">
      <div style="flex:1;">
        <h2 style="margin-bottom:14px; font-size:1.75rem; color:#0b2a4a;">Aviso importante</h2>
        <p style="font-size:1.05rem; margin-bottom:22px; color:#333; line-height:1.6; text-align:justify;">
          Esta plataforma es un servicio de <strong>Soluciones Migratorias</strong> para brindar visibilidad del avance de tu caso.
          La información presentada tiene fines informativos y no reemplaza notificaciones oficiales ni comunicaciones directas
          de nuestro equipo. Ante cualquier duda, contáctanos a través de nuestros canales autorizados.
        </p>
        <button id="btnAceptar" style="background:#fcd100; color:#111; border:none; padding:12px 28px; font-size:1rem; border-radius:8px; cursor:pointer; font-weight:700;">
          ACEPTAR
        </button>
      </div>
      <div style="flex:1; display:flex; align-items:center; justify-content:center;">
        <img src="tu-imagen.jpg" alt="Soluciones Migratorias - Atención al cliente" style="max-width:100%; border-radius:8px;">
      </div>
    </div>
  </div>

  <script>
    const modal = document.getElementById('welcomeModal');
    const btnAceptar = document.getElementById('btnAceptar');
    btnAceptar.addEventListener('click', () => { modal.style.display = 'none'; });
  </script>

</body>
</html>
